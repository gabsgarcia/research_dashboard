// react-smooth@4.0.4 downloaded from https://ga.jspm.io/npm:react-smooth@4.0.4/es6/index.js

import e,{Children as t,cloneElement as r,PureComponent as n,Component as o}from"react";import i from"prop-types";import{deepEqual as a}from"fast-equals";import{Transition as u,TransitionGroup as c}from"react-transition-group";function safeRequestAnimationFrame(e){typeof requestAnimationFrame!=="undefined"&&requestAnimationFrame(e)}function setRafTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var r=-1;var n=function shouldUpdate(n){r<0&&(r=n);if(n-r>t){e(n);r=-1}else safeRequestAnimationFrame(shouldUpdate)};requestAnimationFrame(n)}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}function _toArray(e){return _arrayWithHoles$2(e)||_iterableToArray$3(e)||_unsupportedIterableToArray$3(e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$3(e,t){if(e){if(typeof e==="string")return _arrayLikeToArray$3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);r==="Object"&&e.constructor&&(r=e.constructor.name);return r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$3(e,t):void 0}}function _arrayLikeToArray$3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArray$3(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithHoles$2(e){if(Array.isArray(e))return e}function createAnimateManager(){var e={};var t=function handleChange(){return null};var r=false;var n=function setStyle(n){if(!r)if(Array.isArray(n)){if(!n.length)return;var o=n;var i=_toArray(o),a=i[0],u=i.slice(1);if(typeof a==="number"){setRafTimeout(setStyle.bind(null,u),a);return}setStyle(a);setRafTimeout(setStyle.bind(null,u))}else{if(_typeof$4(n)==="object"){e=n;t(e)}typeof n==="function"&&n()}};return{stop:function stop(){r=true},start:function start(e){r=false;n(e)},subscribe:function subscribe(e){t=e;return function(){t=function handleChange(){return null}}}}}function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}function ownKeys$3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$3(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$3(e,t,r){t=_toPropertyKey$3(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _toPropertyKey$3(e){var t=_toPrimitive$3(e,"string");return _typeof$3(t)==="symbol"?t:String(t)}function _toPrimitive$3(e,t){if(_typeof$3(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_typeof$3(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s=function getIntersectionKeys(e,t){return[Object.keys(e),Object.keys(t)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))};var f=function identity(e){return e};var l=function getDashCase(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())}))};var p=function mapObject(e,t){return Object.keys(t).reduce((function(r,n){return _objectSpread$3(_objectSpread$3({},r),{},_defineProperty$3({},n,e(n,t[n])))}),{})};var y=function getTransitionVal(e,t,r){return e.map((function(e){return"".concat(l(e)," ").concat(t,"ms ").concat(r)})).join(",")};var b=process.env.NODE_ENV!=="production";var m=function warn(e,t,r,n,o,i,a,u){if(b&&typeof console!=="undefined"&&console.warn){t===void 0&&console.warn("LogUtils requires an error message argument");if(!e)if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,u];var s=0;console.warn(t.replace(/%s/g,(function(){return c[s++]})))}}};function _slicedToArray$1(e,t){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,t)||_unsupportedIterableToArray$2(e,t)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit$1(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function _toConsumableArray$2(e){return _arrayWithoutHoles$2(e)||_iterableToArray$2(e)||_unsupportedIterableToArray$2(e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$2(e,t){if(e){if(typeof e==="string")return _arrayLikeToArray$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);r==="Object"&&e.constructor&&(r=e.constructor.name);return r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(e,t):void 0}}function _iterableToArray$2(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$2(e){if(Array.isArray(e))return _arrayLikeToArray$2(e)}function _arrayLikeToArray$2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=1e-4;var v=function cubicBezierFactor(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]};var _=function multyTime(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))};var h=function cubicBezier(e,t){return function(r){var n=v(e,t);return _(n,r)}};var g=function derivativeCubicBezier(e,t){return function(r){var n=v(e,t);var o=[].concat(_toConsumableArray$2(n.map((function(e,t){return e*t})).slice(1)),[0]);return _(o,r)}};var O=function configBezier(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=t[1],i=t[2],a=t[3];if(t.length===1)switch(t[0]){case"linear":n=0;o=0;i=1;a=1;break;case"ease":n=.25;o=.1;i=.25;a=1;break;case"ease-in":n=.42;o=0;i=1;a=1;break;case"ease-out":n=.42;o=0;i=.58;a=1;break;case"ease-in-out":n=0;o=0;i=.58;a=1;break;default:var u=t[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var c=u[1].split(")")[0].split(",").map((function(e){return parseFloat(e)}));var s=_slicedToArray$1(c,4);n=s[0];o=s[1];i=s[2];a=s[3]}else m(false,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s",t)}m([n,i,o,a].every((function(e){return typeof e==="number"&&e>=0&&e<=1})),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",t);var f=h(n,i);var l=h(o,a);var p=g(n,i);var y=function rangeValue(e){return e>1?1:e<0?0:e};var b=function bezier(e){var t=e>1?1:e;var r=t;for(var n=0;n<8;++n){var o=f(r)-t;var i=p(r);if(Math.abs(o-t)<d||i<d)return l(r);r=y(r-o/i)}return l(r)};b.isStepper=false;return b};var S=function configSpring(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var t=e.stiff,r=t===void 0?100:t,n=e.damping,o=n===void 0?8:n,i=e.dt,a=i===void 0?17:i;var u=function stepper(e,t,n){var i=-(e-t)*r;var u=n*o;var c=n+(i-u)*a/1e3;var s=n*a/1e3+e;return Math.abs(s-t)<d&&Math.abs(c)<d?[t,0]:[s,c]};u.isStepper=true;u.dt=a;return u};var $=function configEasing(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n==="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O(n);case"spring":return S();default:if(n.split("(")[0]==="cubic-bezier")return O(n);m(false,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s",t)}if(typeof n==="function")return n;m(false,"[configEasing]: first argument type should be function or string, instead received %s",t);return null};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray$1(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$1(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach((function(t){_defineProperty$2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$2(e,t,r){t=_toPropertyKey$2(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return _typeof$2(t)==="symbol"?t:String(t)}function _toPrimitive$2(e,t){if(_typeof$2(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_typeof$2(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray$1(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$1(e,t){if(e){if(typeof e==="string")return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);r==="Object"&&e.constructor&&(r=e.constructor.name);return r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$1(e,t):void 0}}function _arrayLikeToArray$1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var A=function alpha(e,t,r){return e+(t-e)*r};var j=function needContinue(e){var t=e.from,r=e.to;return t!==r};var P=function calStepperVals(e,t,r){var n=p((function(t,r){if(j(r)){var n=e(r.from,r.to,r.velocity),o=_slicedToArray(n,2),i=o[0],a=o[1];return _objectSpread$2(_objectSpread$2({},r),{},{from:i,velocity:a})}return r}),t);return r<1?p((function(e,t){return j(t)?_objectSpread$2(_objectSpread$2({},t),{},{velocity:A(t.velocity,n[e].velocity,r),from:A(t.from,n[e].from,r)}):t}),t):calStepperVals(e,n,r-1)};var configUpdate=function(e,t,r,n,o){var i=s(e,t);var a=i.reduce((function(r,n){return _objectSpread$2(_objectSpread$2({},r),{},_defineProperty$2({},n,[e[n],t[n]]))}),{});var u=i.reduce((function(r,n){return _objectSpread$2(_objectSpread$2({},r),{},_defineProperty$2({},n,{from:e[n],velocity:0,to:t[n]}))}),{});var c=-1;var f;var l;var y=function update(){return null};var b=function getCurrStyle(){return p((function(e,t){return t.from}),u)};var m=function shouldStopAnimation(){return!Object.values(u).filter(j).length};var d=function stepperUpdate(n){f||(f=n);var i=n-f;var a=i/r.dt;u=P(r,u,a);o(_objectSpread$2(_objectSpread$2(_objectSpread$2({},e),t),b(u)));f=n;m()||(c=requestAnimationFrame(y))};var v=function timingUpdate(i){l||(l=i);var u=(i-l)/n;var s=p((function(e,t){return A.apply(void 0,_toConsumableArray$1(t).concat([r(u)]))}),a);o(_objectSpread$2(_objectSpread$2(_objectSpread$2({},e),t),s));if(u<1)c=requestAnimationFrame(y);else{var f=p((function(e,t){return A.apply(void 0,_toConsumableArray$1(t).concat([r(1)]))}),a);o(_objectSpread$2(_objectSpread$2(_objectSpread$2({},e),t),f))}};y=r.isStepper?d:v;return function(){requestAnimationFrame(y);return function(){cancelAnimationFrame(c)}}};function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var w=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$1(e,t){if(e==null)return{};var r=_objectWithoutPropertiesLoose$1(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}}return r}function _objectWithoutPropertiesLoose$1(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];t.indexOf(o)>=0||(r[o]=e[o])}return r}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);r==="Object"&&e.constructor&&(r=e.constructor.name);return r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$1(e,t,r){t=_toPropertyKey$1(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,_toPropertyKey$1(n.key),n)}}function _createClass$1(e,t,r){t&&_defineProperties$1(e.prototype,t);r&&_defineProperties$1(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return _typeof$1(t)==="symbol"?t:String(t)}function _toPrimitive$1(e,t){if(_typeof$1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_typeof$1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _inherits$1(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){_setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$1(e,t)}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function _createSuperInternal(){var r,n=_getPrototypeOf$1(e);if(t){var o=_getPrototypeOf$1(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn$1(this,r)}}function _possibleConstructorReturn$1(e,t){if(t&&(_typeof$1(t)==="object"||typeof t==="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$1(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf$1(e){_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf$1(e)}var T=function(n){_inherits$1(Animate,n);var o=_createSuper$1(Animate);function Animate(e,t){var r;_classCallCheck$1(this,Animate);r=o.call(this,e,t);var n=r.props,i=n.isActive,a=n.attributeName,u=n.from,c=n.to,s=n.steps,f=n.children,l=n.duration;r.handleStyleChange=r.handleStyleChange.bind(_assertThisInitialized$1(r));r.changeStyle=r.changeStyle.bind(_assertThisInitialized$1(r));if(!i||l<=0){r.state={style:{}};typeof f==="function"&&(r.state={style:c});return _possibleConstructorReturn$1(r)}if(s&&s.length)r.state={style:s[0].style};else if(u){if(typeof f==="function"){r.state={style:u};return _possibleConstructorReturn$1(r)}r.state={style:a?_defineProperty$1({},a,u):u}}else r.state={style:{}};return r}_createClass$1(Animate,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=true;t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props,r=t.isActive,n=t.canBegin,o=t.attributeName,i=t.shouldReAnimate,u=t.to,c=t.from;var s=this.state.style;if(n)if(r){if(!(a(e.to,u)&&e.canBegin&&e.isActive)){var f=!e.canBegin||!e.isActive;this.manager&&this.manager.stop();this.stopJSAnimation&&this.stopJSAnimation();var l=f||i?c:e.to;if(this.state&&s){var p={style:o?_defineProperty$1({},o,l):l};(o&&s[o]!==l||!o&&s!==l)&&this.setState(p)}this.runAnimation(_objectSpread$1(_objectSpread$1({},this.props),{},{from:l,begin:0}))}}else{var y={style:o?_defineProperty$1({},o,u):u};this.state&&s&&(o&&s[o]!==u||!o&&s!==u)&&this.setState(y)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe();if(this.manager){this.manager.stop();this.manager=null}this.stopJSAnimation&&this.stopJSAnimation();e&&e()}},{key:"handleStyleChange",value:function handleStyleChange(e){this.changeStyle(e)}},{key:"changeStyle",value:function changeStyle(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function runJSAnimation(e){var t=this;var r=e.from,n=e.to,o=e.duration,i=e.easing,a=e.begin,u=e.onAnimationEnd,c=e.onAnimationStart;var s=configUpdate(r,n,$(i),o,this.changeStyle);var f=function finalStartAnimation(){t.stopJSAnimation=s()};this.manager.start([c,a,f,o,u])}},{key:"runStepAnimation",value:function runStepAnimation(e){var t=this;var r=e.steps,n=e.begin,o=e.onAnimationStart;var i=r[0],a=i.style,u=i.duration,c=u===void 0?0:u;var s=function addStyle(e,n,o){if(o===0)return e;var i=n.duration,a=n.easing,u=a===void 0?"ease":a,c=n.style,s=n.properties,l=n.onAnimationEnd;var p=o>0?r[o-1]:n;var b=s||Object.keys(c);if(typeof u==="function"||u==="spring")return[].concat(_toConsumableArray(e),[t.runJSAnimation.bind(t,{from:p.style,to:c,duration:i,easing:u}),i]);var m=y(b,i,u);var d=_objectSpread$1(_objectSpread$1(_objectSpread$1({},p.style),c),{},{transition:m});return[].concat(_toConsumableArray(e),[d,i,l]).filter(f)};return this.manager.start([o].concat(_toConsumableArray(r.reduce(s,[a,Math.max(c,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function runAnimation(e){this.manager||(this.manager=createAnimateManager());var t=e.begin,r=e.duration,n=e.attributeName,o=e.to,i=e.easing,a=e.onAnimationStart,u=e.onAnimationEnd,c=e.steps,s=e.children;var f=this.manager;this.unSubscribe=f.subscribe(this.handleStyleChange);if(typeof i!=="function"&&typeof s!=="function"&&i!=="spring")if(c.length>1)this.runStepAnimation(e);else{var l=n?_defineProperty$1({},n,o):o;var p=y(Object.keys(l),r,i);f.start([a,t,_objectSpread$1(_objectSpread$1({},l),{},{transition:p}),r,u])}else this.runJSAnimation(e)}},{key:"render",value:function render(){var n=this.props,o=n.children,i=(n.begin,n.duration),a=(n.attributeName,n.easing,n.isActive),u=(n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart,_objectWithoutProperties$1(n,w));var c=t.count(o);var s=this.state.style;if(typeof o==="function")return o(s);if(!a||c===0||i<=0)return o;var f=function cloneContainer(e){var t=e.props,n=t.style,o=n===void 0?{}:n,i=t.className;var a=r(e,_objectSpread$1(_objectSpread$1({},u),{},{style:_objectSpread$1(_objectSpread$1({},o),s),className:i}));return a};return c===1?f(t.only(o)):e.createElement("div",null,t.map(o,(function(e){return f(e)})))}}]);return Animate}(n);T.displayName="Animate";T.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:true,canBegin:true,steps:[],onAnimationEnd:function onAnimationEnd(){},onAnimationStart:function onAnimationStart(){}};T.propTypes={from:i.oneOfType([i.object,i.string]),to:i.oneOfType([i.object,i.string]),attributeName:i.string,duration:i.number,begin:i.number,easing:i.oneOfType([i.string,i.func]),steps:i.arrayOf(i.shape({duration:i.number.isRequired,style:i.object.isRequired,easing:i.oneOfType([i.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),i.func]),properties:i.arrayOf("string"),onAnimationEnd:i.func})),children:i.oneOfType([i.node,i.func]),isActive:i.bool,canBegin:i.bool,onAnimationEnd:i.func,shouldReAnimate:i.bool,onAnimationStart:i.func,onAnimationReStart:i.func};var E=["children","appearOptions","enterOptions","leaveOptions"];function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _extends(){_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return _extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(e==null)return{};var r=_objectWithoutPropertiesLoose(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}}return r}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];t.indexOf(o)>=0||(r[o]=e[o])}return r}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){t&&_defineProperties(e.prototype,t);r&&_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inherits(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)==="object"||typeof t==="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _defineProperty(e,t,r){t=_toPropertyKey(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return _typeof(t)==="symbol"?t:String(t)}function _toPrimitive(e,t){if(_typeof(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_typeof(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C=function parseDurationOfSingleTransition(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var t=e.steps,r=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(r)?r:0};var I=function(r){_inherits(AnimateGroupChild,r);var n=_createSuper(AnimateGroupChild);function AnimateGroupChild(){var e;_classCallCheck(this,AnimateGroupChild);e=n.call(this);_defineProperty(_assertThisInitialized(e),"handleEnter",(function(t,r){var n=e.props,o=n.appearOptions,i=n.enterOptions;e.handleStyleActive(r?o:i)}));_defineProperty(_assertThisInitialized(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)}));e.state={isActive:false};return e}_createClass(AnimateGroupChild,[{key:"handleStyleActive",value:function handleStyleActive(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(_objectSpread(_objectSpread({},e),{},{onAnimationEnd:t,isActive:true}))}}},{key:"parseTimeout",value:function parseTimeout(){var e=this.props,t=e.appearOptions,r=e.enterOptions,n=e.leaveOptions;return C(t)+C(r)+C(n)}},{key:"render",value:function render(){var r=this;var n=this.props,o=n.children,i=(n.appearOptions,n.enterOptions,n.leaveOptions,_objectWithoutProperties(n,E));return e.createElement(u,_extends({},i,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return e.createElement(T,r.state,t.only(o))}))}}]);return AnimateGroupChild}(o);I.propTypes={appearOptions:i.object,enterOptions:i.object,leaveOptions:i.object,children:i.element};function AnimateGroup(r){var n=r.component,o=r.children,i=r.appear,a=r.enter,u=r.leave;return e.createElement(c,{component:n},t.map(o,(function(t,r){return e.createElement(I,{appearOptions:i,enterOptions:a,leaveOptions:u,key:"child-".concat(r)},t)})))}AnimateGroup.propTypes={appear:i.object,enter:i.object,leave:i.object,children:i.oneOfType([i.array,i.element]),component:i.any};AnimateGroup.defaultProps={component:"span"};export{AnimateGroup,O as configBezier,S as configSpring,T as default};

