// set-cookie-parser@2.7.1 downloaded from https://ga.jspm.io/npm:set-cookie-parser@2.7.1/lib/set-cookie.js

var e={};var r={decodeValues:true,map:false,silent:false};function isNonEmptyString(e){return typeof e==="string"&&!!e.trim()}function parseString(e,t){var a=e.split(";").filter(isNonEmptyString);var s=a.shift();var i=parseNameValuePair(s);var n=i.name;var o=i.value;t=t?Object.assign({},r,t):r;try{o=t.decodeValues?decodeURIComponent(o):o}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",e)}var p={name:n,value:o};a.forEach((function(e){var r=e.split("=");var t=r.shift().trimLeft().toLowerCase();var a=r.join("=");t==="expires"?p.expires=new Date(a):t==="max-age"?p.maxAge=parseInt(a,10):t==="secure"?p.secure=true:t==="httponly"?p.httpOnly=true:t==="samesite"?p.sameSite=a:t==="partitioned"?p.partitioned=true:p[t]=a}));return p}function parseNameValuePair(e){var r="";var t="";var a=e.split("=");if(a.length>1){r=a.shift();t=a.join("=")}else t=e;return{name:r,value:t}}function parse(e,t){t=t?Object.assign({},r,t):r;if(!e)return t.map?{}:[];if(e.headers)if(typeof e.headers.getSetCookie==="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var a=e.headers[Object.keys(e.headers).find((function(e){return e.toLowerCase()==="set-cookie"}))];a||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.");e=a}Array.isArray(e)||(e=[e]);if(t.map){var s={};return e.filter(isNonEmptyString).reduce((function(e,r){var a=parseString(r,t);e[a.name]=a;return e}),s)}return e.filter(isNonEmptyString).map((function(e){return parseString(e,t)}))}function splitCookiesString(e){if(Array.isArray(e))return e;if(typeof e!=="string")return[];var r=[];var t=0;var a;var s;var i;var n;var o;function skipWhitespace(){while(t<e.length&&/\s/.test(e.charAt(t)))t+=1;return t<e.length}function notSpecialChar(){s=e.charAt(t);return s!=="="&&s!==";"&&s!==","}while(t<e.length){a=t;o=false;while(skipWhitespace()){s=e.charAt(t);if(s===","){i=t;t+=1;skipWhitespace();n=t;while(t<e.length&&notSpecialChar())t+=1;if(t<e.length&&e.charAt(t)==="="){o=true;t=n;r.push(e.substring(a,i));a=t}else t=i+1}else t+=1}(!o||t>=e.length)&&r.push(e.substring(a,e.length))}return r}e=parse;e.parse=parse;e.parseString=parseString;e.splitCookiesString=splitCookiesString;var t=e;const a=e.parse,s=e.parseString,i=e.splitCookiesString;export{t as default,a as parse,s as parseString,i as splitCookiesString};

